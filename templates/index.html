<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoTODO - Simple TODO App</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📝 GoTODO</h1>
            <p>Go言語で作ったシンプルなTODOアプリ</p>
        </header>

        <main>
            <section class="add-todo">
                <form id="todo-form">
                    <div class="todo-form-container">
                        <div class="input-row main-input">
                            <input 
                                type="text" 
                                id="todo-input" 
                                placeholder="新しいTODOを入力してください..." 
                                required
                            >
                            <button type="submit">追加</button>
                        </div>
                        <div class="input-row options-row">
                            <div id="category-select-container" class="category-select-container">
                                <!-- Category select will be populated by JavaScript -->
                            </div>
                            <div class="priority-select-container">
                                <select id="priority-select" class="priority-select">
                                    <option value="1">低</option>
                                    <option value="2">中</option>
                                    <option value="3">高</option>
                                </select>
                            </div>
                            <div class="due-date-container">
                                <input 
                                    type="datetime-local" 
                                    id="due-date-input" 
                                    class="due-date-input"
                                    title="期限を設定（任意）"
                                >
                            </div>
                        </div>
                    </div>
                </form>
            </section>

            <section class="todos">
                <div class="todos-header">
                    <h2>TODO一覧</h2>
                    <div class="todo-controls">
                        <div class="search-controls">
                            <input 
                                type="text" 
                                id="search-input" 
                                class="search-input"
                                placeholder="TODOを検索..."
                            >
                            <button id="clear-search" class="clear-search-btn" style="display: none;">クリア</button>
                        </div>
                        <div class="filter-controls">
                            <select id="status-filter" class="status-filter">
                                <option value="">全状態</option>
                                <option value="incomplete">未完了</option>
                                <option value="completed">完了済み</option>
                            </select>
                            <select id="due-date-filter" class="due-date-filter">
                                <option value="">全期限</option>
                                <option value="overdue">期限切れ</option>
                                <option value="today">今日</option>
                                <option value="tomorrow">明日</option>
                                <option value="this_week">今週</option>
                                <option value="no_due_date">期限なし</option>
                            </select>
                            <select id="category-filter" class="category-filter">
                                <option value="">すべて</option>
                            </select>
                            <select id="priority-filter" class="priority-filter">
                                <option value="">全優先度</option>
                                <option value="3">高</option>
                                <option value="2">中</option>
                                <option value="1">低</option>
                            </select>
                            <select id="sort-order" class="sort-order">
                                <option value="smart">スマートソート</option>
                                <option value="due_date">期限順</option>
                                <option value="priority">優先度順</option>
                                <option value="created_at">作成日順</option>
                                <option value="updated_at">更新日順</option>
                                <option value="title">タイトル順</option>
                            </select>
                            <button id="manage-categories" class="manage-categories-btn">カテゴリ管理</button>
                        </div>
                        <div class="todo-stats">
                            <span id="total-count">0</span> 項目
                            (<span id="completed-count">0</span> 完了)
                            <div id="overdue-warning" class="overdue-warning" style="display: none;">
                                ⚠️ <span id="overdue-count">0</span> 件の期限切れ
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="todo-list" class="todo-list">
                    <div class="empty-state">
                        <p>TODOがありません</p>
                        <p>上のフォームから新しいTODOを追加してください</p>
                    </div>
                </div>
                
                <!-- Category Progress Section -->
                <div id="category-progress" class="category-progress" style="display: none;">
                    <h3>カテゴリ別進捗</h3>
                    <div id="category-progress-list" class="category-progress-list">
                        <!-- Category progress items will be populated here -->
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>Made with Go and ❤️</p>
        </footer>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>